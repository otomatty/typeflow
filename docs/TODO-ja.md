# TypeFlow やることリスト（作業項目別）

## エンジン/ロジック
- [ ] 精度計算をキー入力ベースに修正（ミス回数を累積し ACC = 正キー/総キー）
- [ ] 弱点判定を「誤タイプ回数・精度」に基づく指標へ変更
- [ ] 弱点出題の重みづけ（低精度語の出現頻度を上げる）＋持ち越し
- [ ] ローマ字バリエーション拡充（n/nn, ltsu/xtsu など）と検証テスト追加
- [ ] 高速入力時のデバウンス/キューイングで入力取りこぼし防止
- [ ] タイマー設定の可変化（初期時間・回復量・難易度プリセット）

## データ/永続化
- [ ] セッション履歴保存（WPM/ACC/時間/誤単語セット）
- [ ] 弱点履歴の蓄積と時系列精度推移の計算
- [ ] ローカルストレージマイグレーション手順（キー名変更時の移行）

## UI/UX
- [x] ショートカット: Enterで開始、Escでメニュー、ダイアログ操作のキーバインド ✅
- [ ] ウィジェット最適化: 狭小幅/低高さ時の折返し・省略・メトリクス縦積み
- [ ] 長文単語の省略/ツールチップ表示とリーダビリティ改善
- [ ] カラー/アニメーション調整（残量低下時のパルス強度、誤入力フラッシュ）
- [ ] 空リスト時オンボーディングUIの強化

## メトリクス/統計
- [ ] セッション履歴一覧と詳細ビュー
- [ ] 推移グラフ（WPM・ACC・プレイ時間）を簡易チャートで表示
- [ ] 弱点単語トップNの改善度トラッキング

## テスト
- [ ] ローマ字検証ロジックの単体テスト（バリエーション/境界ケース）
- [ ] ゲームループのタイマー精度・時間回復のテスト
- [ ] 永続化（useKV）リグレッションテストと初期化時の空/破損データハンドリング
- [ ] UIスナップショット/重要パスのE2E（開始→入力→終了→弱点リトライ）

## ドキュメント
- [ ] docs/README-ja.md の差分反映（進捗と仕様更新）
- [ ] 機能別仕様書（弱点アルゴリズム、時間管理、入力検証）詳細化
- [ ] テスト計画・チェックリストの作成

