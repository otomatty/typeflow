# TypeFlow 環境変数設定例
# 
# このファイルをコピーして .env ファイルを作成し、実際の値を設定してください。
# 
# コピー方法:
#   cp .env.example .env
# 
# 注意: .env ファイルは .gitignore に含まれているため、Gitにコミットされません。

# =============================================================================
# Clerk認証設定（必須）
# =============================================================================

# Clerk公開キー（フロントエンド用）（必須）
# Clerk Dashboard (https://dashboard.clerk.com/) から取得
# 例: pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
VITE_CLERK_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# Clerkシークレットキー（バックエンド用）（必須）
# Clerk Dashboard (https://dashboard.clerk.com/) から取得
# 例: sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CLERK_SECRET_KEY=sk_test_your_secret_key_here

# =============================================================================
# データベース設定
# =============================================================================

# データベースURL
# 
# ローカル開発用（SQLiteファイル）:
#   TURSO_DATABASE_URL=file:./local.db
# 
# Tursoクラウド用:
#   TURSO_DATABASE_URL=libsql://your-database-name-your-org.turso.io
# 
# デフォルト: 設定されていない場合、自動的に file:./local.db が使用されます
TURSO_DATABASE_URL=file:./local.db

# Turso認証トークン（Tursoクラウドを使用する場合のみ必要）
# ローカルSQLiteファイルを使用する場合は不要
# 
# 取得方法:
#   turso db tokens create your-database-name
# 
# 例: eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9...
TURSO_AUTH_TOKEN=

# ローカルデータベースファイルのパス（オプション）
# TURSO_DATABASE_URL が設定されていない場合に使用されます
# デフォルト: ./local.db
# TURSO_LOCAL_DB_PATH=./local.db

# =============================================================================
# サーバー設定
# =============================================================================

# サーバーポート（オプション）
# デフォルト: 3456
PORT=3456

# CORS許可オリジン（オプション）
# カンマ区切りで複数のオリジンを指定可能
# デフォルト: '*' (すべてのオリジンを許可)
# 
# ローカル開発用:
#   ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000
# 
# 本番環境用:
#   ALLOWED_ORIGINS=https://your-app.pages.dev
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# =============================================================================
# フロントエンド設定
# =============================================================================

# APIベースURL（オプション）
# フロントエンドからアクセスするAPIのベースURL
# デフォルト: http://localhost:3456/api
# 
# ローカル開発用:
#   VITE_API_BASE_URL=http://localhost:3456/api
# 
# 本番環境用（Cloudflare Workers）:
#   VITE_API_BASE_URL=https://typeflow-api.your-subdomain.workers.dev/api
VITE_API_BASE_URL=http://localhost:3456/api

# =============================================================================
# 設定のヒント
# =============================================================================
# 
# 1. ローカル開発（SQLiteファイルを使用）:
#    - TURSO_DATABASE_URL=file:./local.db
#    - TURSO_AUTH_TOKEN は不要
#    - クイックセットアップ: bun run db:setup
# 
# 2. Tursoクラウドを使用する場合:
#    - TURSO_DATABASE_URL=libsql://your-database.turso.io
#    - TURSO_AUTH_TOKEN を設定
#    - マイグレーション実行: bun run db:migrate
# 
# 3. 本番環境（Cloudflare Workers）:
#    - wrangler.toml で環境変数を設定
#    - または、Cloudflare Dashboard で環境変数を設定
# 
# 詳細は以下のドキュメントを参照:
#   - docs/LOCAL_DEVELOPMENT.md - ローカル開発ガイド
#   - docs/db/TURSO_SETUP.md - Tursoデータベース設定
#   - docs/auth/CLERK_TURSO_SETUP.md - Clerk認証設定
#   - docs/ci/DEPLOYMENT_SETUP.md - デプロイ設定

# =============================================================================
# GitHub Secrets（CI/CD用）
# =============================================================================
# 
# 以下の環境変数は、GitHub ActionsのCI/CDパイプラインで使用されます。
# GitHubリポジトリの Settings → Secrets and variables → Actions で設定してください。
# 
# 注意: これらの値は .env ファイルには設定せず、GitHub Secretsとして管理してください。
# 本番環境の機密情報を含むため、Gitにコミットしないでください。

# -----------------------------------------------------------------------------
# Cloudflare設定（必須）
# -----------------------------------------------------------------------------

# Cloudflare APIトークン（必須）
# Cloudflare Dashboard → My Profile → API Tokens で作成
# 詳細: docs/ci/DEPLOYMENT_SETUP.md を参照
# CLOUDFLARE_API_TOKEN=your_cloudflare_api_token_here

# CloudflareアカウントID（必須）
# Cloudflare Dashboardの右サイドバーから取得
# CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id_here

# -----------------------------------------------------------------------------
# Cloudflare設定（オプション）
# -----------------------------------------------------------------------------

# Workersのサブドメイン（ヘルスチェック用）
# 例: your-subdomain
# CLOUDFLARE_SUBDOMAIN=your-subdomain

# Workersの完全なURL（ヘルスチェック用）
# 例: https://typeflow-api.your-subdomain.workers.dev
# CLOUDFLARE_WORKER_URL=https://typeflow-api.your-subdomain.workers.dev

# -----------------------------------------------------------------------------
# 本番環境のデータベース設定（必須）
# -----------------------------------------------------------------------------

# 本番環境のTursoデータベースURL（必須）
# 例: libsql://your-production-database.turso.io
# TURSO_DATABASE_URL=libsql://your-production-database.turso.io

# 本番環境のTurso認証トークン（必須）
# 取得方法: turso db tokens create your-production-database-name
# TURSO_AUTH_TOKEN=your_production_turso_auth_token_here

# -----------------------------------------------------------------------------
# 本番環境の認証設定（必須）
# -----------------------------------------------------------------------------

# 本番環境のClerkシークレットキー（必須）
# Clerk Dashboard → API Keys から取得（本番環境用）
# CLERK_SECRET_KEY=sk_live_your_production_secret_key_here

# -----------------------------------------------------------------------------
# 本番環境のフロントエンド設定（必須）
# -----------------------------------------------------------------------------

# 本番環境のAPIベースURL（必須）
# Cloudflare WorkersのURLを設定
# 例: https://typeflow-api.your-subdomain.workers.dev/api
# VITE_API_BASE_URL=https://typeflow-api.your-subdomain.workers.dev/api

# =============================================================================
# GitHub Secrets設定手順
# =============================================================================
# 
# 1. GitHubリポジトリにアクセス
# 2. Settings → Secrets and variables → Actions に移動
# 3. "New repository secret" をクリック
# 4. Name にシークレット名（例: CLOUDFLARE_API_TOKEN）を入力
# 5. Secret に値を貼り付け
# 6. "Add secret" をクリック
# 7. 上記の各シークレットを同様の手順で追加
# 
# 詳細は docs/ci/DEPLOYMENT_SETUP.md を参照してください。
